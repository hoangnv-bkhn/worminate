<% layout('layouts/boilerplate') -%>

  <h1>
    <%= title %>
  </h1>
  <p>Welcome to <%= title %>
  </p>
  <div id="map"></div>

  <hr />
  <br />

  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <h2 class="text-center">WORMINATE TOKEN ICO SALE</h2>
        <div class="text-center">
          <button type="button" class="btn btn-primary connectToMetaMask">Connect To MetaMask</button>
        </div>
        <br />
        <h4 class="showAccount text-center"></h4>
        <hr />
        <br />
        <!-- <p>
          <h2>Introducing "Worminate" (WOR)!</h2>
          <h3>Token price is <span class="token-price"></span> Ether.</h3>
        </p> -->
        <!-- <button id="buyToken">Buy Token</button> -->
          <br />
      </div>
      <div id="loader" style="display: none;">
        <p class="text-center">Loading...</p>
      </div>
      <!-- <div id="content" class="text-center" style="display: none;"> -->
      <div id="content" class="text-center">
        <p>
        <h2>Introducing "Worminate" (WOR)!</h2>
        <h3>Token price is <span class="token-price"></span> Ether.</h3>
        <h4>Token price is <span class="token-price"></span> Ether. You currently have <span
            class="dapp-balance"></span>&nbsp;ACP.</h4>
        </p>
        <br />
        <form onsubmit="ICO.buyTokens(event); return false;" role="form" name="buyForm">
          <div class="form-group">
            <div class="input-group">
              <input type="number" id="numberOfTokens" class="form-control input-lg" name="number" value="1" min="1"
                pattern="[0-9]"></input>
              <span class="input-group-btn">
                <button class="btn btn-primary btn-lg" type="submit">Buy Tokens</button>
              </span>
            </div>
          </div>
        </form>
        <br />
        <div class="progress">
          <div class="progress-bar progress-bar-striped active" id="progress" aria-valuemin="0" aria-valuemax="100">
          </div>
        </div>
        <p><span class="tokens-sold"></span> / <span class="tokens-available"></span> tokens sold</p>
        <hr />
        <p id="accountAddress"></p>
      </div>
    </div>
  </div>

  <script>
    mapboxgl.accessToken = "<%= mapBoxToken %>";
    var posts = { features: <%- JSON.stringify(posts) %> };
  </script>
  <script src="/javascripts/allPostsClusterMap.js"></script>
  <script src="./scripts/web3.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
  <!-- <script src="https://cdn.jsdelivr.net/npm/truffle-contract@4.0.31/dist/truffle-contract.min.js"></script> -->
  <script src="/javascripts/ico.js"></script>